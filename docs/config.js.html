<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: config.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: config.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by Tom on 13.11.2017.
 */

/**
 * Configuration
 */
class Config {
    constructor() {
        /**
         * VERSION. Change this if you want to do a force reload
         * @type {string}
         */
        this.VERSION = "1.0.0";

        /**
         * Enables debug logs
         * @type {boolean}
         */
        this.developer = true;

        /**
         * The cache name.
         * Not really important, so it uses your website adress as default
         * but you can set it to anything
         * @type {string}
         */
        this.CACHE_NAME = location.hostname + "-v";

        /**
         * These specify the URLs to cache (whitelist)
         * @type {string[]}
         */
        this.URLS_TO_CACHE_WHITELIST = [
            ".*"
        ];

        /**
         * These URLs won't be cached at all. You'll most likely want videos in there,
         * since they can take up your cache space pretty quickly.
         * Accepted are either Strings or RegExp and can contain any part of the URL or even the full URL.
         * @type {string[]}
         */
        this.URLS_TO_CACHE_BLACKLIST = [];

        /**
         * URLs to precache. Accepted are only fully qualified Strings of relative or absolute URLs
         */
        this.PRE_CACHE = [];

        /**
         * Whitelist for all files that should be updated. Can contain RegExp or String.
         * Accepted are either relative or absolute URLs or any part of any URL, like certain CDNs or so.
         * Generally best practice is to allow all and then blacklist the ones you don't want
         * @type {string[]}
         */
        this.UPDATE_WHITELIST = [
            ".*"
        ];

        /**
         * Blacklist for all files that should not be updated. Can contain RegExp or String.
         * Accepted are either relative or absolute URLs or any part of any URL, like certain CDNs or so.
         * Generally best practice (IMO) would be to exclude all files that have a fixed config.VERSION,
         * like jQuery and Bootstrap.
         * This also saves a lot of overhead
         * since these files are generally pretty big and take a lot of time to process.
         * @type {string[]}
         */
        this.UPDATE_BLACKLIST = [];

        /**
         * Strategy for the sw to use. Available are:
         * 0: Network First,
         * 1: Cache first,
         * 2: Stale while revalidate
         *
         * While there may be more I don't really see the benefit of adding them.
         * Cache only is basically cache first without checking for network connectivity.
         * Network only is, in my opinion, the worst thing to do.
         *
         * If you want to add your own you can specify a callback in $STRATEGY_CALLBACKS
         * @type {number}
         */
        this.STRATEGY = 2;

        /**
         * Strategy callbacks by type.
         * Make sure that they always return a Promise&lt;Response>
         * @type {{0: networkFirst, 1: cacheFirst, 2: staleWhileRevalidate}}
         */
        this.STRATEGY_CALLBACKS = {
            0: "networkFirst",
            1: "cacheFirst",
            2: "staleWhileRevalidate"
        };

        /**
         * You can dynamically register callbacks by calling
         * sw.postmessage(method, function)
         * Method means the method of the request and function needs to be a valid function,
         * which returns a Promise&lt;Event> and accepts an event.
         * Additionally, the function needs to be JSON stringified in order to work correctly, if you register it via postmessage.
         * You can call other strategy callbacks in your own callback as well, though beware that they return a response and not a request.
         * This is sort of a hook more than a callback.
         * @type {{string:function}}
         */
        this.FETCH_CALLBACKS = {};

        /**
         * Update strategy to use with stale while revalidate
         *
         * Available are:
         *
         * 0: No strategy
         * 1: Request each file when it was retrieved from cache without slowing down response time
         * 2: Server-request which uses POST: {url:string} to request the server to return a md5 hash of the file like {hash:string}
         * @type {number}
         */
        this.UPDATE_STRATEGY = 1;

        /**
         * This is the dictionary for the different strategies.
         * You should add to it directly
         */
        this.UPDATE_CALLBACKS = {
            0: null,
            1: "requestFileUpdate",
            2: "requestServerHash"
        };

        this.HASH_ADDRESS = "/gethash";

        /**
         * Enum for the different message types used for reporting
         * @type {{}}
         */
        this.MESSAGE_TYPES = {
            0: "receivedUpdate",
            1: "receivedConfigUpdate",
            2: "methodToRegister"
        };
    }
}

module.exports = Config;

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Config.html">Config</a></li></ul><h3>Global</h3><ul><li><a href="global.html#activateEvent">activateEvent</a></li><li><a href="global.html#bin2String">bin2String</a></li><li><a href="global.html#cacheResponse">cacheResponse</a></li><li><a href="global.html#canBeCached">canBeCached</a></li><li><a href="global.html#canBeUpdated">canBeUpdated</a></li><li><a href="global.html#checkUpdate">checkUpdate</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#fetchEvent">fetchEvent</a></li><li><a href="global.html#fetchResponse">fetchResponse</a></li><li><a href="global.html#installEvent">installEvent</a></li><li><a href="global.html#isUpdating">isUpdating</a></li><li><a href="global.html#md5HashBody">md5HashBody</a></li><li><a href="global.html#merge">merge</a></li><li><a href="global.html#updateable">updateable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Nov 18 2017 15:45:06 GMT+0100 (Mitteleurop√§ische Zeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
